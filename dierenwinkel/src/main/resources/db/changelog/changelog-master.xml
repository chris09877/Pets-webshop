<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:pro="http://www.liquibase.org/xml/ns/pro"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.1.xsd
      http://www.liquibase.org/xml/ns/pro
      http://www.liquibase.org/xml/ns/pro/liquibase-pro-4.1.xsd">

    <includeAll path="com/example/db/changelog/"/>
    <changeSet id="initial-schema" author="dolfa" >

        <!-- Product Table -->
        <createTable tableName="product">
            <column name="id" type="BIGINT" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="name" type="VARCHAR(255)"> <constraints nullable="false"/></column>
            <column name="description" type="VARCHAR(255)"> <constraints nullable="false"/></column>
            <column name="price" type="DOUBLE"> <constraints nullable="false"/></column>
            <column name="quantity" type="INT">
                <constraints nullable="true"/>
            </column>
            <column name="categories" type="ENUM('fish', 'cat', 'dog')">
                <constraints nullable="false"/>
            </column>
        </createTable>

        <!-- Order Table -->
        <createTable tableName="orders">
            <column name="id" type="BIGINT" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="date" type="DATE" />
            <column name="userInfo" type="VARCHAR(255)" />
            <column name="content" type="TEXT" />
            <column name="user_id" type="INT">
                <constraints nullable="true"/>
            </column>        </createTable>

        <!-- User Table -->
        <createTable tableName="user">
            <column name="id" type="BIGINT" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="firstname" type="VARCHAR(255)" />
            <column name="lastname" type="VARCHAR(255)" />
            <column name="address" type="VARCHAR(255)" />
            <column name="postcode" type="VARCHAR(255)" />
            <column name="number" type="VARCHAR(255)" />
            <column name="birthdate" type="DATE" />
            <column name="phone" type="VARCHAR(40)" />
            <column name="mail" type="VARCHAR(40)" />
        </createTable>

        <sql>INSERT INTO user (firstname, lastname, address, postcode, number, birthdate, phone, mail)
             VALUES ('John', 'Doe', '123 Main St', '12345', '123456789', '1990-01-01', '1234567890', 'john@example.com');</sql>
        <sql>INSERT INTO user (firstname, lastname, address, postcode, number, birthdate, phone, mail)
             VALUES ('Jane', 'Doe', '456 Elm St', '54321', '987654321', '1995-01-01', '0987654321', 'jane@example.com');</sql>

        <!-- Insert data into orders table -->
        <sql>INSERT INTO orders (user_id, content, date, userInfo) VALUES (1, 'Content for Order 1', CURRENT_TIMESTAMP, 'bbl');</sql>
        <sql>INSERT INTO orders (user_id, content, date, userInfo) VALUES (2, 'Content for Order 2', CURRENT_TIMESTAMP, 'bbl');</sql>
        <sql>INSERT INTO orders (user_id, content, date, userInfo) VALUES (1, 'Content for Order 3', CURRENT_TIMESTAMP, 'bbl');</sql>

        <!-- Insert data into product table -->
        <sql>INSERT INTO product (name, description, price, quantity, categories)
             VALUES ('Tropical Fish Food', 'High-quality fish food for tropical fish.', 9.99, 0, 1),
        ('Fish Tank Filter', 'Efficient filter for fish tanks.', 19.99, 0, 1),
        ('Goldfish Bowl', 'Classic bowl for goldfish.', 14.99, 0, 1),
        ('Dog Collar', 'Adjustable collar for dogs.', 12.99, 0, 2),
        ('Dog Chew Toy', 'Durable chew toy for dogs.', 7.99, 0, 2),
        ('Dog Shampoo', 'Gentle shampoo for dog grooming.', 11.99, 0, 2),
        ('Dog Treats', 'Tasty treats for rewarding your dog.', 5.99, 0, 2),
        ('Cat Litter', 'Absorbent litter for cats.', 8.99, 0, 3),
        ('Cat Scratching Post', 'Cat furniture for scratching.', 29.99, 0, 3),
        ('Cat Carrier', 'Convenient carrier for transporting cats.', 24.99, 0, 3),
        ('Cat Bed', 'Cozy bed for cats.', 19.99, 0, 3),
        ('Fish Tank Heater', 'Reliable heater for fish tanks.', 17.99, 0, 1),
        ('Dog Leash', 'Sturdy leash for walking dogs.', 9.99, 0, 2),
        ('Cat Food', 'Nutritious food for cats.', 12.99, 0, 3),
        ('Dog Bed', 'Comfortable bed for dogs.', 34.99, 0, 2),
        ('Fish Tank Decor', 'Decorative elements for fish tanks.', 14.99, 0, 1),
        ('Dog Bowl', 'Food and water bowl for dogs.', 6.99, 0, 2),
        ('Cat Toy', 'Interactive toy for entertaining cats.', 3.99, 0, 3),
        ('Dog Crate', 'Spacious crate for dogs.', 49.99, 0, 2),
        ('Fish Net', 'Handy net for handling fish.', 5.99, 0, 1),
        ('Cat Collar', 'Stylish collar for cats.', 8.99, 0, 3);</sql>
    </changeSet>

    <changeSet id="insert data" author="dolfa">
        <!-- Insert data into user table -->
        <insert tableName="user">
            <column name="firstname" value="John"/>
            <column name="lastname" value="Doe"/>
            <column name="address" value="123 Main St"/>
            <column name="postcode" value="12345"/>
            <column name="number" value="123456789"/>
            <column name="birthdate" value="1990-01-01"/>
            <column name="phone" value="1234567890"/>
            <column name="mail" value="john@example.com"/>
        </insert>

        <insert tableName="user">
            <column name="firstname" value="Jane"/>
            <column name="lastname" value="Doe"/>
            <column name="address" value="456 Elm St"/>
            <column name="postcode" value="54321"/>
            <column name="number" value="987654321"/>
            <column name="birthdate" value="1995-01-01"/>
            <column name="phone" value="0987654321"/>
            <column name="mail" value="jane@example.com"/>
        </insert>

        <!-- Insert data into orders table -->
        <insert tableName="orders">
            <column name="user_id" value="1"/>
            <column name="content" value="Content for Order 1"/>
            <column name="date" valueDate="CURRENT_TIMESTAMP"/>
            <column name="userInfo" value="bbl"/>
        </insert>

        <insert tableName="orders">
            <column name="user_id" value="2"/>
            <column name="content" value="Content for Order 2"/>
            <column name="date" valueDate="CURRENT_TIMESTAMP"/>
            <column name="userInfo" value="bbl"/>
        </insert>

        <insert tableName="orders">
            <column name="user_id" value="1"/>
            <column name="content" value="Content for Order 3"/>
            <column name="date" valueDate="CURRENT_TIMESTAMP"/>
            <column name="userInfo" value="bbl"/>
        </insert>

        <!-- Insert data into product table -->
        <insert tableName="product">
            <column name="name" value="Tropical Fish Food"/>
            <column name="description" value="High-quality fish food for tropical fish."/>
            <column name="price" valueNumeric="9.99"/>
            <column name="quantity" valueNumeric="0"/>
            <column name="categories" value="1"/>
        </insert>
    </changeSet>
</databaseChangeLog>